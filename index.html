<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>다시, 봄 - 우연한 인연을 다시 만나다</title>
  <!-- 나눔스퀘어 네오 폰트 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
    
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: linear-gradient(to bottom right, #fdf2f8, #f5f3ff);
      min-height: 100vh;
    }
    
    .gradient-text {
      background-image: linear-gradient(to right, #ec4899, #a855f7);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    
    .gradient-button {
      background-image: linear-gradient(to right, #ec4899, #a855f7);
      transition: all 0.3s;
    }
    
    .gradient-button:hover {
      opacity: 0.85;
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(236, 72, 153, 0.3);
    }
    
    .feature-card {
      transition: all 0.3s;
    }
    
    .feature-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }
    
    .story-image {
      transition: all 0.5s;
    }
    
    .story-card:hover .story-image {
      transform: scale(1.05);
    }
    
    /* 반응형 영상 컨테이너 */
    .responsive-video-container {
      position: relative;
      padding-bottom: 56.25%;
      padding-top: 25px;
      height: 0;
      overflow: hidden;
      border-radius: 1rem;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    .responsive-video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 1rem;
    }
    
    .floating {
      animation: floating 3s ease-in-out infinite;
    }
    
    @keyframes floating {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-15px); }
      100% { transform: translateY(0px); }
    }
    
    .animation-delay-2000 {
      animation-delay: 2s;
    }
    
    .animation-delay-4000 {
      animation-delay: 4s;
    }
    
    .blob {
      animation: blob-animation 8s infinite;
    }
    
    @keyframes blob-animation {
      0% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
      50% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
      100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
    }
    
    /* 프로필 이미지 플레이스홀더 스타일 */
    .placeholder-image {
      background-color: #EC4899;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 16px;
    }
  </style>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <!-- 카카오 SDK -->
  <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
 <!-- Firebase SDK (여기에 추가) -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
</head>
<body>
  <div class="min-h-screen flex flex-col">
    <!-- Header -->
    <header class="bg-white sticky top-0 z-50 shadow-sm">
      <div class="container mx-auto px-4 py-4 flex justify-between items-center">
        <div class="flex items-center cursor-pointer">
          <!-- 로고 이미지 -->
          <img src="images/logo.svg" alt="다시, 봄 로고" class="h-8 w-8 mr-2">
          <h1 class="text-2xl font-medium">다시, 봄</h1>
        </div>
        
        <nav class="hidden md:flex items-center space-x-6">
          <a href="#" class="text-gray-800 font-medium">홈</a>
          <a href="#features" class="text-gray-600 hover:text-pink-500 transition-colors">기능</a>
          <a href="#stories" class="text-gray-600 hover:text-pink-500 transition-colors">실제 이야기</a>
          <a href="#" class="text-gray-600 hover:text-pink-500 transition-colors">자유 게시판</a>
          
          <!-- 로그인 버튼 (로그인 전에만 표시) -->
          <button id="headerLoginBtn" class="px-5 py-2 bg-gradient-to-r from-pink-400 to-purple-500 text-white rounded-full shadow-md hover:shadow-xl transition-all hover:scale-105">
            로그인
          </button>
          
          <!-- 사용자 프로필 영역 (로그인 후에만 표시) -->
          <div id="userProfileDropdown" class="hidden relative">
            <button id="userProfileBtn" class="flex items-center focus:outline-none">
              <img id="userAvatarImg" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Ccircle cx='12' cy='12' r='12' fill='%23EC4899'/%3E%3Ctext x='12' y='16' text-anchor='middle' font-size='12' fill='white'%3EU%3C/text%3E%3C/svg%3E" alt="프로필 사진" class="w-8 h-8 rounded-full border-2 border-pink-400">
              <span id="userDisplayName" class="ml-2 text-gray-700 hidden md:inline"></span>
              <i data-lucide="chevron-down" class="w-4 h-4 ml-1 text-gray-600"></i>
            </button>
            
            <div id="profileDropdownMenu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
              <a href="#" id="myProfileLink" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                <i data-lucide="user" class="w-4 h-4 inline-block mr-2"></i> 내 프로필
              </a>
              <a href="#" id="myPostsLink" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                <i data-lucide="file-text" class="w-4 h-4 inline-block mr-2"></i> 내 글 목록
              </a>
              <a href="#" id="favoritesLink" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                <i data-lucide="heart" class="w-4 h-4 inline-block mr-2"></i> 관심 목록
              </a>
              <hr class="my-1 border-gray-200">
              <a href="#" id="logoutBtn" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                <i data-lucide="log-out" class="w-4 h-4 inline-block mr-2"></i> 로그아웃
              </a>
            </div>
          </div>
        </nav>
        
        <button id="mobileMenuButton" class="md:hidden" aria-label="메뉴 열기">
          <i data-lucide="menu" class="h-6 w-6"></i>
        </button>
      </div>
      
      <div id="mobileMenu" class="md:hidden bg-white py-4 px-6 shadow-md hidden">
        <nav class="flex flex-col space-y-4">
          <a href="#" class="flex items-center py-2 text-gray-800 font-medium">
            <i data-lucide="home" class="h-5 w-5 mr-2"></i>홈
          </a>
          <a href="#features" class="flex items-center py-2 text-gray-600 hover:text-pink-500">
            <i data-lucide="layout" class="h-5 w-5 mr-2"></i>기능
          </a>
          <a href="#stories" class="flex items-center py-2 text-gray-600 hover:text-pink-500">
            <i data-lucide="book-open" class="h-5 w-5 mr-2"></i>실제 이야기
          </a>
          <a href="#" class="flex items-center py-2 text-gray-600 hover:text-pink-500">
            <i data-lucide="users" class="h-5 w-5 mr-2"></i>자유 게시판
          </a>
          
          <!-- 모바일 로그인 버튼 (로그인 전에만 표시) -->
          <button id="mobileLoginBtn" class="flex items-center py-2 text-pink-500 font-medium">
            <i data-lucide="log-in" class="h-5 w-5 mr-2"></i>로그인
          </button>
          
          <!-- 모바일 사용자 프로필 영역 (로그인 후에만 표시) -->
          <div id="mobileUserProfile" class="hidden">
            <div class="flex items-center py-2 text-gray-700">
              <img id="mobileUserAvatarImg" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Ccircle cx='12' cy='12' r='12' fill='%23EC4899'/%3E%3Ctext x='12' y='16' text-anchor='middle' font-size='12' fill='white'%3EU%3C/text%3E%3C/svg%3E" alt="프로필 사진" class="w-6 h-6 rounded-full mr-2">
              <span id="mobileUserDisplayName">사용자</span>
            </div>
            <a href="#" id="mobileMyProfileLink" class="flex items-center py-2 pl-7 text-gray-600 hover:text-pink-500">
              <i data-lucide="user" class="h-4 w-4 mr-2"></i>내 프로필
            </a>
            <a href="#" id="mobileMyPostsLink" class="flex items-center py-2 pl-7 text-gray-600 hover:text-pink-500">
              <i data-lucide="file-text" class="h-4 w-4 mr-2"></i>내 글 목록
            </a>
            <a href="#" id="mobileFavoritesLink" class="flex items-center py-2 pl-7 text-gray-600 hover:text-pink-500">
              <i data-lucide="heart" class="h-4 w-4 mr-2"></i>관심 목록
            </a>
            <a href="#" id="mobileLogoutBtn" class="flex items-center py-2 pl-7 text-gray-600 hover:text-pink-500">
              <i data-lucide="log-out" class="h-4 w-4 mr-2"></i>로그아웃
            </a>
          </div>
        </nav>
      </div>
    </header>
    
    <main class="flex-grow">
      <!-- Hero Section -->
      <section class="relative py-20 md:py-32 overflow-hidden">
        <!-- Decorative blobs -->
        <div class="absolute top-20 left-10 w-64 h-64 bg-pink-200 opacity-30 mix-blend-multiply filter blur-3xl rounded-full blob"></div>
        <div class="absolute top-40 right-10 w-80 h-80 bg-purple-200 opacity-30 mix-blend-multiply filter blur-3xl rounded-full blob animation-delay-2000"></div>
        <div class="absolute -bottom-20 left-1/3 w-72 h-72 bg-blue-200 opacity-30 mix-blend-multiply filter blur-3xl rounded-full blob animation-delay-4000"></div>
        
        <div class="container mx-auto px-4 relative z-10">
          <div class="max-w-4xl mx-auto text-center space-y-8">
            <h1 class="text-5xl md:text-6xl font-light leading-tight">
              우연히 <span class="gradient-text font-medium">스친 인연</span>을 <br>
              다시 만날 수 있다면?
            </h1>
            
            <p class="text-xl md:text-2xl text-gray-700 leading-relaxed max-w-3xl mx-auto">
              짧은 만남이었지만 잊을 수 없는 그 사람, <br class="hidden md:block">
              그때 이름을 물어볼 걸 하고 아쉬웠던 그 순간, <br class="hidden md:block">
              <span class="gradient-text font-medium">다시, 봄</span>에서 소중한 인연을 찾아보세요.
            </p>
            
            <div class="pt-8 flex flex-col sm:flex-row items-center justify-center gap-6">
              <a href="#" class="gradient-button px-8 py-4 text-white rounded-full shadow-lg text-lg font-medium w-full sm:w-auto">
                시작하기
              </a>
              
              <a href="#features" class="flex items-center text-gray-700 hover:text-purple-600 transition-colors duration-300 mt-4 sm:mt-0">
                <span>서비스 알아보기</span>
                <i data-lucide="chevron-right" class="h-4 w-4 ml-1"></i>
              </a>
            </div>
          </div>
          
          <!-- 유튜브 영상 추가 (이미지 대신) -->
          <div class="max-w-5xl mx-auto mt-16">
            <div class="responsive-video-container">
              <iframe 
                src="https://www.youtube.com/embed/MZhbRkEOBtY?controls=0&showinfo=0&rel=0&autoplay=0&loop=1&mute=1"
                title="이산가족 상봉 영상" 
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen>
              </iframe>
            </div>
            <p class="text-sm text-gray-500 mt-3 text-center">소중한 사람과의 재회, 그 감동적인 순간</p>
          </div>
        </div>
        
        <!-- 수정된 스크롤 인디케이터 (중앙 정렬) -->
        <div class="absolute bottom-10 left-0 right-0 mx-auto flex flex-col items-center justify-center animate-bounce text-center">
          <span class="text-sm text-gray-500 mb-2">아래로 스크롤</span>
          <i data-lucide="chevron-down" class="h-6 w-6 text-gray-500 mx-auto"></i>
        </div>
      </section>
      
      <!-- How It Works -->
      <section class="py-24 bg-white">
        <div class="container mx-auto px-4">
          <div class="text-center mb-16">
            <h2 class="text-4xl font-light mb-4">서비스 이용 방법</h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">다시, 봄에서 소중한 인연을 찾는 과정은 간단합니다.</p>
          </div>
          
          <div class="grid md:grid-cols-3 gap-10 max-w-5xl mx-auto">
            <div class="relative p-6 bg-gray-50 rounded-2xl">
              <div class="absolute -top-8 left-1/2 transform -translate-x-1/2 w-16 h-16 bg-gradient-to-r from-pink-400 to-pink-500 rounded-full flex items-center justify-center text-white text-2xl font-bold">1</div>
              <h3 class="text-2xl font-medium mb-4 mt-6 text-center">나를 찾는 사람 확인</h3>
              <p class="text-gray-600 text-center">누군가 당신과의 만남을 기억하고 찾고 있는지 확인해보세요.</p>
            </div>
            
            <div class="relative p-6 bg-gray-50 rounded-2xl">
              <div class="absolute -top-8 left-1/2 transform -translate-x-1/2 w-16 h-16 bg-gradient-to-r from-purple-400 to-purple-500 rounded-full flex items-center justify-center text-white text-2xl font-bold">2</div>
              <h3 class="text-2xl font-medium mb-4 mt-6 text-center">인연 등록하기</h3>
              <p class="text-gray-600 text-center">찾고 싶은 사람에 대한 기억과 만남의 정보를 등록하세요.</p>
            </div>
            
            <div class="relative p-6 bg-gray-50 rounded-2xl">
              <div class="absolute -top-8 left-1/2 transform -translate-x-1/2 w-16 h-16 bg-gradient-to-r from-blue-400 to-blue-500 rounded-full flex items-center justify-center text-white text-2xl font-bold">3</div>
              <h3 class="text-2xl font-medium mb-4 mt-6 text-center">재회의 순간</h3>
              <p class="text-gray-600 text-center">서로의 기억이 일치하면, 소중한 인연과 다시 연결될 수 있습니다.</p>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Features Section -->
      <section id="features" class="py-24 bg-gray-50">
        <div class="container mx-auto px-4">
          <div class="text-center mb-16">
            <h2 class="text-4xl font-light mb-4">주요 기능</h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">지금 이 순간에도 누군가가 당신을 찾고 있을지도 모릅니다.</p>
          </div>
          
          <div class="grid md:grid-cols-3 gap-8">
            <div class="feature-card bg-white rounded-2xl p-8 shadow-lg">
              <div class="p-4 bg-pink-50 rounded-xl w-16 h-16 flex items-center justify-center mb-6">
                <i data-lucide="search" class="h-6 w-6 text-pink-500"></i>
              </div>
              <h3 class="text-2xl font-medium mb-4">나를 찾는 사람 보기</h3>
              <p class="text-gray-700 mb-8">누군가 당신을 찾고 있을지도 모릅니다. 여러분의 정보와 일치하는 글이 있는지 확인해보세요.</p>
              <div class="flex items-center text-pink-600 hover:text-pink-700 transition-colors">
                <span class="text-sm font-medium">자세히 보기</span>
                <i data-lucide="chevron-right" class="h-4 w-4 ml-1"></i>
              </div>
            </div>
            
            <div class="feature-card bg-white rounded-2xl p-8 shadow-lg">
              <div class="p-4 bg-purple-50 rounded-xl w-16 h-16 flex items-center justify-center mb-6">
                <i data-lucide="pen-line" class="h-6 w-6 text-purple-500"></i>
              </div>
              <h3 class="text-2xl font-medium mb-4">누군가를 찾고 있어요</h3>
              <p class="text-gray-700 mb-8">그때 그 장소, 그 시간에 만났던 특별한 사람에 대한 기억을 남겨보세요.</p>
              <div class="flex items-center text-purple-600 hover:text-purple-700 transition-colors">
                <span class="text-sm font-medium">자세히 보기</span>
                <i data-lucide="chevron-right" class="h-4 w-4 ml-1"></i>
              </div>
            </div>
            
            <div class="feature-card bg-white rounded-2xl p-8 shadow-lg">
              <div class="p-4 bg-blue-50 rounded-xl w-16 h-16 flex items-center justify-center mb-6">
                <i data-lucide="users" class="h-6 w-6 text-blue-500"></i>
              </div>
              <h3 class="text-2xl font-medium mb-4">자유 게시판</h3>
              <p class="text-gray-700 mb-8">여러분의 이야기를 공유하고 다른 사람들의 특별한 만남 스토리를 읽어보세요.</p>
              <div class="flex items-center text-blue-600 hover:text-blue-700 transition-colors">
                <span class="text-sm font-medium">자세히 보기</span>
                <i data-lucide="chevron-right" class="h-4 w-4 ml-1"></i>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Success Stories -->
      <section id="stories" class="py-24">
        <div class="container mx-auto px-4">
          <div class="text-center mb-16">
            <h2 class="text-4xl font-light mb-4">실제 이야기</h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">다시, 봄을 통해 소중한 인연을 다시 만난 사람들의 이야기</p>
          </div>
          
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
            <div class="story-card bg-white rounded-2xl shadow-lg overflow-hidden">
              <div class="h-56 overflow-hidden">
                <!-- GitHub에 업로드된 이미지 사용 -->
                <img src="https://raw.githubusercontent.com/nini7434/springggg/main/images/용산역.jpg" alt="용산역 스타벅스" class="story-image w-full h-full object-cover">
              </div>
              <div class="p-6">
                <div class="bg-pink-100 text-pink-600 px-3 py-1 rounded-full text-sm font-medium inline-block mb-4">
                  용산역 스타벅스에서
                </div>
                <p class="text-gray-700 mb-6">2019년 용산역 기차를 기다리는 스타벅스에서 마주쳤던 그 여자. 같은 책을 읽고 있었던 우연한 만남, 다시 봄을 통해 1년 만에 다시 만났습니다.</p>
                <div class="flex justify-between items-center">
                  <p class="text-sm text-gray-600">민준, 31세</p>
                  <div class="flex items-center text-pink-400">
                    <i data-lucide="heart" class="h-4 w-4 mr-1 fill-current"></i>
                    <span class="text-xs">128</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="story-card bg-white rounded-2xl shadow-lg overflow-hidden">
              <div class="h-56 overflow-hidden">
                <!-- GitHub에 업로드된 이미지 사용 -->
                <img src="https://raw.githubusercontent.com/nini7434/springggg/main/images/강남역.jpg" alt="강남역 출구" class="story-image w-full h-full object-cover">
              </div>
              <div class="p-6">
                <div class="bg-purple-100 text-purple-600 px-3 py-1 rounded-full text-sm font-medium inline-block mb-4">
                  강남역에서의 인연
                </div>
                <p class="text-gray-700 mb-6">2023년에 강남역에서 매일 출근 시간에 마주쳤던 그 남자. 항상 같은 시간에 2번 출구로 나가던 그를 6개월 만에 다시 봄에서 찾았어요.</p>
                <div class="flex justify-between items-center">
                  <p class="text-sm text-gray-600">서연, 27세</p>
                  <div class="flex items-center text-pink-400">
                    <i data-lucide="heart" class="h-4 w-4 mr-1 fill-current"></i>
                    <span class="text-xs">95</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="story-card bg-white rounded-2xl shadow-lg overflow-hidden">
              <div class="h-56 overflow-hidden">
                <!-- GitHub에 업로드된 이미지 사용 -->
                <img src="https://raw.githubusercontent.com/nini7434/springggg/main/images/인천공항.jpg" alt="인천공항 대기실" class="story-image w-full h-full object-cover">
              </div>
              <div class="p-6">
                <div class="bg-blue-100 text-blue-600 px-3 py-1 rounded-full text-sm font-medium inline-block mb-4">
                  인천공항에서의 만남
                </div>
                <p class="text-gray-700 mb-6">2021년 인천공항에서 일본으로 가는 아침 비행기에서 어깨를 빌려주며 이야기 나눴던 그 남자. 8개월 후 우연히 다시 봄에서 서로를 발견했어요.</p>
                <div class="flex justify-between items-center">
                  <p class="text-sm text-gray-600">지현, 26세</p>
                  <div class="flex items-center text-pink-400">
                    <i data-lucide="heart" class="h-4 w-4 mr-1 fill-current"></i>
                    <span class="text-xs">87</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="text-center mt-12">
            <a href="#" class="gradient-button px-8 py-3 text-white rounded-full inline-block">
              더 많은 이야기 보기
            </a>
          </div>
        </div>
      </section>
      
      <!-- CTA Section -->
      <section class="py-24 bg-gradient-to-r from-pink-50 to-purple-50">
        <div class="container mx-auto px-4">
          <div class="max-w-4xl mx-auto text-center">
            <h2 class="text-4xl font-light mb-6">지금 시작해보세요</h2>
            <p class="text-xl text-gray-700 mb-10 max-w-2xl mx-auto">
              어쩌면 그 사람도 당신을 찾고 있을지도 모릅니다.
              다시, 봄에서 잊지 못할 인연을 찾아보세요.
            </p>
            <a href="#" class="gradient-button px-10 py-4 text-white rounded-full shadow-xl inline-flex items-center text-lg font-medium">
              <span>지금 시작하기</span>
              <i data-lucide="arrow-right" class="h-5 w-5 ml-2"></i>
            </a>
          </div>
        </div>
      </section>
    </main>
    
    <footer class="bg-white py-12 border-t border-gray-100">
      <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row justify-between items-center mb-8">
          <div class="flex items-center mb-6 md:mb-0">
            <img src="images/logo.svg" alt="다시, 봄 로고" class="h-8 w-8 mr-2">
            <h2 class="text-xl font-medium text-gray-800">다시, 봄</h2>
          </div>
          <div class="flex flex-wrap justify-center md:justify-end space-x-4 md:space-x-6">
            <a href="#" class="text-gray-600 hover:text-pink-500 transition-colors py-2">서비스 소개</a>
            <a href="#" class="text-gray-600 hover:text-pink-500 transition-colors py-2">이용약관</a>
            <a href="#" class="text-gray-600 hover:text-pink-500 transition-colors py-2">개인정보</a>
            <a href="#" class="text-gray-600 hover:text-pink-500 transition-colors py-2">고객센터</a>
          </div>
        </div>
        <div class="text-center border-t border-gray-100 pt-8">
          <p class="text-sm text-gray-600 font-medium mb-2">다시, 봄 – 모든 인연은 소중합니다.</p>
          <p class="text-xs text-gray-500">&copy; 2025 다시, 봄. All rights reserved.</p>
        </div>
      </div>
    </footer>
  </div>
  
  <!-- 로그인/회원가입 모달 -->
  <div id="loginModal" class="fixed inset-0 z-50 overflow-y-auto hidden">
    <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
      <!-- 배경 오버레이 -->
      <div class="fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75" aria-hidden="true"></div>
      
      <!-- 모달 중앙 정렬 트릭 -->
      <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
      
      <!-- 모달 내용 -->
      <div class="inline-block overflow-hidden text-left align-bottom transition-all transform bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
        <div class="px-4 pt-5 pb-4 bg-white sm:p-6 sm:pb-4">
          <div class="sm:flex sm:items-start">
            <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
              <!-- 모달 헤더 -->
              <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-medium leading-6 text-gray-900" id="modal-title">
                  로그인
                </h3>
                <button type="button" class="closeModal text-gray-400 hover:text-gray-500 focus:outline-none">
                  <i data-lucide="x" class="w-6 h-6"></i>
                </button>
              </div>
              
              <!-- 모달 내용 -->
              <div class="mt-2">
                <!-- 로그인 폼 -->
                <div id="loginForm">
                  <p class="mb-6 text-gray-600">다시, 봄에 오신 것을 환영합니다. 소중한 인연을 찾기 위해 로그인해주세요.</p>
                  
                  <div class="space-y-4">
                    <div>
                      <label for="email" class="block text-sm font-medium text-gray-700">이메일</label>
                      <input type="email" id="email" name="email" class="block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" placeholder="이메일 주소" required>
                    </div>
                    
                    <div>
                      <label for="password" class="block text-sm font-medium text-gray-700">비밀번호</label>
                      <input type="password" id="password" name="password" class="block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" placeholder="비밀번호" required>
                    </div>
                    
                    <div class="flex items-center justify-between">
                      <div class="flex items-center">
                        <input id="remember-me" name="remember-me" type="checkbox" class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">
                        <label for="remember-me" class="block ml-2 text-sm text-gray-700">
                          로그인 상태 유지
                        </label>
                      </div>
                      
                      <div class="text-sm">
                        <a href="#" id="forgotPassword" class="font-medium text-pink-600 hover:text-pink-500">
                          비밀번호 찾기
                        </a>
                      </div>
                    </div>
                    
                    <div>
                      <button type="button" id="loginButton" class="flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-pink-500 to-purple-500 border border-transparent rounded-md shadow-sm hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500">
                        로그인
                      </button>
                    </div>
                  </div>
                  
                  <div class="mt-6">
                    <div class="relative">
                      <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-300"></div>
                      </div>
                      <div class="relative flex justify-center text-sm">
                        <span class="px-2 text-gray-500 bg-white">또는</span>
                      </div>
                    </div>
                    
                    <div class="grid grid-cols-1 gap-3 mt-6">
                      <button type="button" id="googleLoginBtn" class="inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500">
                        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-5 h-5 mr-2" alt="Google 로고">
                        Google 계정으로 로그인
                      </button>
                      
                      <button type="button" id="kakaoLoginBtn" class="inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-gray-800 bg-yellow-300 border border-yellow-400 rounded-md shadow-sm hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500">
                        <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small.png" class="w-5 h-5 mr-2" alt="카카오 로고">
                        카카오로 시작하기
                      </button>
                    </div>
                  </div>
                  
                  <div class="mt-6 text-center">
                    <p class="text-sm text-gray-600">
                      아직 회원이 아니신가요?
                      <a href="#" id="showSignup" class="font-medium text-pink-600 hover:text-pink-500">
                        회원가입
                      </a>
                    </p>
                  </div>
                </div>
                
                <!-- 회원가입 폼 (처음에는 숨김) -->
                <div id="signupForm" class="hidden">
                  <p class="mb-6 text-gray-600">다시, 봄에서 소중한 인연을 찾기 위한 첫 걸음을 시작하세요.</p>
                  
                  <div class="space-y-4">
                    <div>
                      <label for="signup-name" class="block text-sm font-medium text-gray-700">이름</label>
                      <input type="text" id="signup-name" name="name" class="block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" placeholder="이름" required>
                    </div>
                    
                    <div>
                      <label for="signup-email" class="block text-sm font-medium text-gray-700">이메일</label>
                      <input type="email" id="signup-email" name="email" class="block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" placeholder="이메일 주소" required>
                    </div>
                    
                    <div>
                      <label for="signup-password" class="block text-sm font-medium text-gray-700">비밀번호</label>
                      <input type="password" id="signup-password" name="password" class="block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" placeholder="비밀번호 (8자 이상)" minlength="8" required>
                    </div>
                    
                    <div>
                      <label for="signup-password-confirm" class="block text-sm font-medium text-gray-700">비밀번호 확인</label>
                      <input type="password" id="signup-password-confirm" name="password-confirm" class="block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" placeholder="비밀번호 확인" minlength="8" required>
                    </div>
                    
                    <div class="flex items-start">
                      <div class="flex items-center h-5">
                        <input id="terms" name="terms" type="checkbox" class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500" required>
                      </div>
                      <div class="ml-3 text-sm">
                        <label for="terms" class="font-medium text-gray-700">
                          <a href="#" class="text-pink-600 hover:text-pink-500">이용약관</a> 및 
                          <a href="#" class="text-pink-600 hover:text-pink-500">개인정보처리방침</a>에 동의합니다.
                        </label>
                      </div>
                    </div>
                    
                    <div>
                      <button type="button" id="signupButton" class="flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-pink-500 to-purple-500 border border-transparent rounded-md shadow-sm hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500">
                        회원가입
                      </button>
                    </div>
                  </div>
                  
                  <div class="mt-6">
                    <div class="relative">
                      <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-300"></div>
                      </div>
                      <div class="relative flex justify-center text-sm">
                        <span class="px-2 text-gray-500 bg-white">또는</span>
                      </div>
                    </div>
                    
                    <div class="grid grid-cols-1 gap-3 mt-6">
                      <button type="button" id="googleSignupBtn" class="inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500">
                        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-5 h-5 mr-2" alt="Google 로고">
                        Google 계정으로 회원가입
                      </button>
                      
                      <button type="button" id="kakaoSignupBtn" class="inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-gray-800 bg-yellow-300 border border-yellow-400 rounded-md shadow-sm hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500">
                        <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small.png" class="w-5 h-5 mr-2" alt="카카오 로고">
                        카카오로 시작하기
                      </button>
                    </div>
                  </div>
                  
                  <div class="mt-6 text-center">
                    <p class="text-sm text-gray-600">
                      이미 회원이신가요?
                      <a href="#" id="showLogin" class="font-medium text-pink-600 hover:text-pink-500">
                        로그인
                      </a>
                    </p>
                  </div>
                </div>
                
                <!-- 비밀번호 찾기 폼 (처음에는 숨김) -->
                <div id="forgotPasswordForm" class="hidden">
                  <p class="mb-6 text-gray-600">가입한 이메일 주소를 입력하시면 비밀번호 재설정 링크를 보내드립니다.</p>
                  
                  <div class="space-y-4">
                    <div>
                      <label for="reset-email" class="block text-sm font-medium text-gray-700">이메일</label>
                      <input type="email" id="reset-email" name="email" class="block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" placeholder="가입한 이메일 주소" required>
                    </div>
                    
                    <div>
                      <button type="button" id="resetPasswordButton" class="flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-pink-500 to-purple-500 border border-transparent rounded-md shadow-sm hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500">
                        비밀번호 재설정 링크 보내기
                      </button>
                    </div>
                  </div>
                  
                  <div class="mt-6 text-center">
                    <p class="text-sm text-gray-600">
                      <a href="#" id="backToLogin" class="font-medium text-pink-600 hover:text-pink-500">
                        로그인으로 돌아가기
                      </a>
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
 <!-- index.html의 기존 스크립트 부분을 이 코드로 대체하세요 -->
<script>
// DOM이 로드되면 실행
document.addEventListener('DOMContentLoaded', function() {
  // Lucide 아이콘 초기화
  if (typeof lucide !== 'undefined') {
    lucide.createIcons();
  } else {
    console.error('Lucide가 로드되지 않았습니다');
  }
  
  // 카카오 SDK 초기화
  if (typeof Kakao !== 'undefined') {
    if (!Kakao.isInitialized()) {
      Kakao.init('9bd5d7401c90c3e6435c23a3cbb46272');
      console.log('카카오 SDK 초기화 상태:', Kakao.isInitialized());
    }
  } else {
    console.warn('카카오 SDK가 로드되지 않았습니다');
  }
  
  // Firebase 설정 정보
  const firebaseConfig = {
    apiKey: "AIzaSyCXWLanNJmOcVG43-VPHxwEhUOruPbYM3A",
    authDomain: "spring-again-5beef.firebaseapp.com",
    projectId: "spring-again-5beef",
    storageBucket: "spring-again-5beef.appspot.com",
    messagingSenderId: "230998888543",
    appId: "1:230998888543:web:838ddfcde96b275516cbea",
    measurementId: "G-Q79MWQPK8J"
  };
  
  // Firebase 초기화
  try {
    if (typeof firebase !== 'undefined') {
      if (firebase.apps.length === 0) {
        firebase.initializeApp(firebaseConfig);
      }
      console.log('Firebase 초기화 성공');
    } else {
      console.warn('Firebase SDK가 로드되지 않았습니다');
    }
  } catch (error) {
    console.error('Firebase 초기화 오류:', error);
  }
  
  // 모달 관련 요소들
  const loginModal = document.getElementById('loginModal');
  const headerLoginBtn = document.getElementById('headerLoginBtn');
  const mobileLoginBtn = document.getElementById('mobileLoginBtn');
  const closeModalBtns = document.querySelectorAll('.closeModal');
  
  // 로그인 폼 요소들
  const loginForm = document.getElementById('loginForm');
  const signupForm = document.getElementById('signupForm');
  const forgotPasswordForm = document.getElementById('forgotPasswordForm');
  const showSignupLink = document.getElementById('showSignup');
  const showLoginLink = document.getElementById('showLogin');
  const forgotPasswordLink = document.getElementById('forgotPassword');
  const backToLoginLink = document.getElementById('backToLogin');
  const modalTitle = document.getElementById('modal-title');
  
  // 로그인 버튼에 이벤트 리스너 추가
  if (headerLoginBtn) {
    headerLoginBtn.addEventListener('click', function() {
      loginModal.classList.remove('hidden');
    });
  }
  
  if (mobileLoginBtn) {
    mobileLoginBtn.addEventListener('click', function() {
      loginModal.classList.remove('hidden');
    });
  }
  
  // 닫기 버튼에 이벤트 리스너 추가
  closeModalBtns.forEach(btn => {
    btn.addEventListener('click', function() {
      loginModal.classList.add('hidden');
    });
  });
  
  // 모달 외부 클릭 시 닫기
  if (loginModal) {
    loginModal.addEventListener('click', function(e) {
      if (e.target === loginModal) {
        loginModal.classList.add('hidden');
      }
    });
  }
  
  // 폼 전환 (로그인 <-> 회원가입 <-> 비밀번호 찾기)
  if (showSignupLink) {
    showSignupLink.addEventListener('click', function(e) {
      e.preventDefault();
      loginForm.classList.add('hidden');
      signupForm.classList.remove('hidden');
      if (forgotPasswordForm) forgotPasswordForm.classList.add('hidden');
      modalTitle.textContent = '회원가입';
    });
  }
  
  if (showLoginLink) {
    showLoginLink.addEventListener('click', function(e) {
      e.preventDefault();
      loginForm.classList.remove('hidden');
      signupForm.classList.add('hidden');
      if (forgotPasswordForm) forgotPasswordForm.classList.add('hidden');
      modalTitle.textContent = '로그인';
    });
  }
  
  if (forgotPasswordLink) {
    forgotPasswordLink.addEventListener('click', function(e) {
      e.preventDefault();
      loginForm.classList.add('hidden');
      if (signupForm) signupForm.classList.add('hidden');
      forgotPasswordForm.classList.remove('hidden');
      modalTitle.textContent = '비밀번호 찾기';
    });
  }
  
  if (backToLoginLink) {
    backToLoginLink.addEventListener('click', function(e) {
      e.preventDefault();
      loginForm.classList.remove('hidden');
      if (signupForm) signupForm.classList.add('hidden');
      forgotPasswordForm.classList.add('hidden');
      modalTitle.textContent = '로그인';
    });
  }
  
  // 모바일 메뉴 토글
  const mobileMenuButton = document.getElementById('mobileMenuButton');
  const mobileMenu = document.getElementById('mobileMenu');
  
  if (mobileMenuButton && mobileMenu) {
    mobileMenuButton.addEventListener('click', function() {
      if (mobileMenu.classList.contains('hidden')) {
        mobileMenu.classList.remove('hidden');
        this.setAttribute('aria-expanded', 'true');
        this.innerHTML = '<i data-lucide="x" class="h-6 w-6"></i>';
        lucide.createIcons();
      } else {
        mobileMenu.classList.add('hidden');
        this.setAttribute('aria-expanded', 'false');
        this.innerHTML = '<i data-lucide="menu" class="h-6 w-6"></i>';
        lucide.createIcons();
      }
    });
  }
  
  // 로그인 완료 처리 함수
  function completeLogin(userId, nickname, email, profileImage) {
    // 1. 로그인 성공 메시지
    alert(`${nickname}님, 환영합니다!`);
    
    // 2. UI 업데이트
    updateUserProfileUI(nickname, profileImage);
    
    // 3. 로그인 상태 저장 (로컬 스토리지 사용)
    localStorage.setItem('currentUser', JSON.stringify({
      id: userId,
      nickname: nickname,
      profileImage: profileImage,
      email: email,
      provider: email.includes('@') ? 'email' : 'kakao',
      loginTime: new Date().toISOString()
    }));
    
    // 4. 로그인 모달 닫기
    if (loginModal) loginModal.classList.add('hidden');
  }
  
  // 사용자 프로필 UI 업데이트 함수
  function updateUserProfileUI(displayName, photoURL) {
    // 헤더 로그인 버튼 숨기기
    const headerLoginBtn = document.getElementById('headerLoginBtn');
    if (headerLoginBtn) headerLoginBtn.classList.add('hidden');
    
    // 사용자 프로필 영역 표시
    const userProfileDropdown = document.getElementById('userProfileDropdown');
    if (userProfileDropdown) userProfileDropdown.classList.remove('hidden');
    
    // 사용자 정보 업데이트
    const userDisplayName = document.getElementById('userDisplayName');
    if (userDisplayName) userDisplayName.textContent = displayName || '사용자';
    
    const userAvatarImg = document.getElementById('userAvatarImg');
    if (userAvatarImg) {
      if (photoURL) {
        userAvatarImg.src = photoURL;
      } else {
        const initial = (displayName || '사용자')[0].toUpperCase();
        userAvatarImg.src = `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Ccircle cx='12' cy='12' r='12' fill='%23EC4899'/%3E%3Ctext x='12' y='16' text-anchor='middle' font-size='12' fill='white'%3E${initial}%3C/text%3E%3C/svg%3E`;
      }
    }
    
    // 모바일 UI 업데이트
    const mobileLoginBtn = document.getElementById('mobileLoginBtn');
    if (mobileLoginBtn) mobileLoginBtn.classList.add('hidden');
    
    const mobileUserProfile = document.getElementById('mobileUserProfile');
    if (mobileUserProfile) mobileUserProfile.classList.remove('hidden');
    
    const mobileUserDisplayName = document.getElementById('mobileUserDisplayName');
    if (mobileUserDisplayName) mobileUserDisplayName.textContent = displayName || '사용자';
    
    const mobileUserAvatarImg = document.getElementById('mobileUserAvatarImg');
    if (mobileUserAvatarImg) {
      if (photoURL) {
        mobileUserAvatarImg.src = photoURL;
      } else {
        const initial = (displayName || '사용자')[0].toUpperCase();
        mobileUserAvatarImg.src = `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Ccircle cx='12' cy='12' r='12' fill='%23EC4899'/%3E%3Ctext x='12' y='16' text-anchor='middle' font-size='12' fill='white'%3E${initial}%3C/text%3E%3C/svg%3E`;
      }
    }
  }
  
  // 로그아웃 함수
  function logout() {
    // 1. 로컬 스토리지에서 사용자 정보 삭제
    localStorage.removeItem('currentUser');
    
    // 2. 카카오 로그아웃 (카카오로 로그인한 경우)
    if (typeof Kakao !== 'undefined' && Kakao.Auth.getAccessToken()) {
      Kakao.Auth.logout(function() {
        console.log('카카오 로그아웃 성공');
      });
    }
    
    // 3. Firebase 로그아웃 (Firebase로 로그인한 경우)
    if (typeof firebase !== 'undefined' && firebase.auth) {
      firebase.auth().signOut().then(() => {
        console.log('Firebase 로그아웃 성공');
      }).catch((error) => {
        console.error('Firebase 로그아웃 에러:', error);
      });
    }
    
    // 4. UI 업데이트
    updateUserProfileUIForLogout();
    
    // 5. 로그아웃 메시지
    alert('로그아웃 되었습니다.');
  }
  
  // 로그아웃 후 UI 업데이트 함수
  function updateUserProfileUIForLogout() {
    // 헤더 로그인 버튼 표시
    const headerLoginBtn = document.getElementById('headerLoginBtn');
    if (headerLoginBtn) headerLoginBtn.classList.remove('hidden');
    
    // 사용자 프로필 영역 숨기기
    const userProfileDropdown = document.getElementById('userProfileDropdown');
    if (userProfileDropdown) userProfileDropdown.classList.add('hidden');
    
    // 모바일 UI 업데이트
    const mobileLoginBtn = document.getElementById('mobileLoginBtn');
    if (mobileLoginBtn) mobileLoginBtn.classList.remove('hidden');
    
    const mobileUserProfile = document.getElementById('mobileUserProfile');
    if (mobileUserProfile) mobileUserProfile.classList.add('hidden');
  }
  
  // 페이지 로드 시 로그인 상태 확인
  function checkLoginStatus() {
    // 로컬 스토리지에서 사용자 정보 확인
    const currentUser = localStorage.getItem('currentUser');
    
    if (currentUser) {
      try {
        const userData = JSON.parse(currentUser);
        // 로그인 정보가 24시간 이내인지 확인
        const loginTime = new Date(userData.loginTime);
        const currentTime = new Date();
        const hoursSinceLogin = (currentTime - loginTime) / (1000 * 60 * 60);
        
        if (hoursSinceLogin < 24) {
          // 24시간 이내라면 자동 로그인
          console.log('저장된 로그인 정보로 자동 로그인:', userData.nickname);
          updateUserProfileUI(userData.nickname, userData.profileImage);
          return;
        }
      } catch (error) {
        console.error('저장된 로그인 정보 처리 중 오류:', error);
      }
    }
    
    // 카카오 로그인 상태 확인
    if (typeof Kakao !== 'undefined' && Kakao.Auth.getAccessToken()) {
      Kakao.API.request({
        url: '/v2/user/me',
        success: function(res) {
          console.log('카카오 자동 로그인 성공:', res);
          const nickname = res.properties?.nickname || '사용자';
          const profileImage = res.properties?.profile_image || '';
          updateUserProfileUI(nickname, profileImage);
        },
        fail: function(error) {
          console.error('카카오 자동 로그인 실패:', error);
        }
      });
    }
    
    // Firebase 인증 상태 확인
    if (typeof firebase !== 'undefined' && firebase.auth) {
      firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
          console.log('Firebase 자동 로그인 성공:', user);
          updateUserProfileUI(user.displayName, user.photoURL);
        }
      });
    }
  }
  
  // 카카오 로그인 버튼 이벤트 리스너
  const kakaoLoginBtn = document.getElementById('kakaoLoginBtn');
  if (kakaoLoginBtn) {
    kakaoLoginBtn.addEventListener('click', function() {
      console.log('카카오 로그인 버튼 클릭됨');
      
      if (typeof Kakao === 'undefined' || !Kakao.isInitialized()) {
        alert('카카오 SDK가 초기화되지 않았습니다');
        return;
      }
      
      // 카카오 로그인 팝업 열기
      Kakao.Auth.login({
        // 필수 동의 항목만 요청
        scope: 'profile_nickname', // profile_image와 account_email 제거
        throughTalk: false,  // 카카오톡이 아닌 웹 페이지에서 로그인 진행
        success: function(authObj) {
          console.log('카카오 로그인 성공:', authObj);
          
          // 사용자 정보 요청
          Kakao.API.request({
            url: '/v2/user/me',
            success: function(res) {
              console.log('카카오 사용자 정보:', res);
              
              const nickname = res.properties?.nickname || '사용자';
              const profileImage = res.properties?.profile_image || '';
              const email = res.kakao_account?.email || '';
              
              // 로그인 완료 처리
              completeLogin(res.id, nickname, email, profileImage);
            },
            fail: function(error) {
              console.error('카카오 사용자 정보 요청 실패:', error);
              alert('사용자 정보를 가져오는데 실패했습니다.');
            }
          });
        },
        fail: function(err) {
          console.error('카카오 로그인 실패:', err);
          alert('카카오 로그인에 실패했습니다. 오류: ' + JSON.stringify(err));
        }
      });
    });
  }
  
  // 카카오 회원가입 버튼 이벤트 리스너 (로그인과 동일 동작)
  const kakaoSignupBtn = document.getElementById('kakaoSignupBtn');
  if (kakaoSignupBtn && kakaoLoginBtn) {
    kakaoSignupBtn.addEventListener('click', function() {
      kakaoLoginBtn.click();
    });
  }
  
  // 구글 로그인 버튼 이벤트 리스너
  const googleLoginBtn = document.getElementById('googleLoginBtn');
  if (googleLoginBtn) {
    googleLoginBtn.addEventListener('click', function() {
      if (typeof firebase === 'undefined' || !firebase.auth) {
        alert('Firebase SDK가 로드되지 않았습니다. 다른 로그인 방법을 이용해주세요.');
        return;
      }
      
      // Firebase Auth 가져오기
      const auth = firebase.auth();
      const provider = new firebase.auth.GoogleAuthProvider();
      
      auth.signInWithPopup(provider)
        .then((result) => {
          const user = result.user;
          console.log('구글 로그인 성공:', user);
          
          // 로그인 완료 처리
          completeLogin(
            user.uid,
            user.displayName || '사용자',
            user.email || '',
            user.photoURL || ''
          );
        })
        .catch((error) => {
          console.error('구글 로그인 에러:', error);
          alert('구글 로그인에 실패했습니다. 다른 로그인 방법을 이용해주세요.');
        });
    });
  }
  
  // 구글 회원가입 버튼 이벤트 리스너 (로그인과 동일 동작)
  const googleSignupBtn = document.getElementById('googleSignupBtn');
  if (googleSignupBtn && googleLoginBtn) {
    googleSignupBtn.addEventListener('click', function() {
      googleLoginBtn.click();
    });
  }
  
  // 이메일 로그인 버튼 이벤트 리스너
  const loginButton = document.getElementById('loginButton');
  if (loginButton) {
    loginButton.addEventListener('click', function() {
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      
      if (!email || !password) {
        alert('이메일과 비밀번호를 모두 입력해주세요.');
        return;
      }
      
      // 테스트 계정 확인 (개발 중 편의를 위한 것)
      if (email === 'test@example.com' && password === 'password') {
        completeLogin('test123', '테스트 사용자', email, '');
        return;
      }
      
      // 사용자 정보 확인
      const users = JSON.parse(localStorage.getItem('users') || '[]');
      const user = users.find(u => u.email === email && u.password === password);
      
      if (user) {
        // 로그인 성공
        completeLogin(user.id, user.name, user.email, '');
      } else {
        alert('이메일 또는 비밀번호가 올바르지 않습니다.');
      }
    });
  }
  
  // 회원가입 버튼 이벤트 리스너
  const signupButton = document.getElementById('signupButton');
  if (signupButton) {
    signupButton.addEventListener('click', function() {
      const name = document.getElementById('signup-name').value;
      const email = document.getElementById('signup-email').value;
      const password = document.getElementById('signup-password').value;
      const passwordConfirm = document.getElementById('signup-password-confirm').value;
      const termsChecked = document.getElementById('terms').checked;
      
      if (!name || !email || !password || !passwordConfirm) {
        alert('모든 필수 정보를 입력해주세요.');
        return;
      }
      
      if (password !== passwordConfirm) {
        alert('비밀번호가 일치하지 않습니다.');
        return;
      }
      
      if (!termsChecked) {
        alert('이용약관에 동의해주세요.');
        return;
      }
      
      // 사용자 정보를 로컬 스토리지에 저장
      const users = JSON.parse(localStorage.getItem('users') || '[]');
      
      // 이메일 중복 확인
      const existingUser = users.find(user => user.email === email);
      if (existingUser) {
        alert('이미 가입된 이메일입니다.');
        return;
      }
      
      // 새 사용자 추가
      users.push({
        id: 'user_' + Date.now(),
        name: name,
        email: email,
        password: password, // 실제로는 암호화해야 함
        createdAt: new Date().toISOString()
      });
      
      localStorage.setItem('users', JSON.stringify(users));
      
      alert(`${name}님, 회원가입이 완료되었습니다. 로그인해주세요.`);
      
      // 로그인 폼으로 전환
      loginForm.classList.remove('hidden');
      signupForm.classList.add('hidden');
      modalTitle.textContent = '로그인';
    });
  }
  
  // 비밀번호 재설정 버튼 이벤트 리스너
  const resetPasswordButton = document.getElementById('resetPasswordButton');
  if (resetPasswordButton) {
    resetPasswordButton.addEventListener('click', function() {
      const email = document.getElementById('reset-email').value;
      
      if (!email) {
        alert('이메일을 입력해주세요.');
        return;
      }
      
      // 사용자 정보 확인
      const users = JSON.parse(localStorage.getItem('users') || '[]');
      const user = users.find(u => u.email === email);
      
      if (user) {
        // 비밀번호 재설정 이메일 발송 (실제로는 서버에서 처리)
        alert(`${email}로 비밀번호 재설정 링크가 전송되었습니다.`);
      } else {
        // 사용자가 없어도 보안을 위해 동일한 메시지 표시
        alert(`${email}로 비밀번호 재설정 링크가 전송되었습니다.`);
      }
      
      // 로그인 폼으로 전환
      loginForm.classList.remove('hidden');
      forgotPasswordForm.classList.add('hidden');
      modalTitle.textContent = '로그인';
    });
  }
  
  // 로그아웃 버튼 이벤트 리스너
  const logoutBtn = document.getElementById('logoutBtn');
  if (logoutBtn) {
    logoutBtn.addEventListener('click', function(e) {
      e.preventDefault();
      logout();
      
      // 드롭다운 메뉴 닫기
      const profileDropdownMenu = document.getElementById('profileDropdownMenu');
      if (profileDropdownMenu) {
        profileDropdownMenu.classList.add('hidden');
      }
    });
  }
  
  // 모바일 로그아웃 버튼 이벤트 리스너
  const mobileLogoutBtn = document.getElementById('mobileLogoutBtn');
  if (mobileLogoutBtn) {
    mobileLogoutBtn.addEventListener('click', function(e) {
      e.preventDefault();
      logout();
      
      // 모바일 메뉴 닫기
      const mobileMenu = document.getElementById('mobileMenu');
      if (mobileMenu) {
        mobileMenu.classList.add('hidden');
      }
    });
  }
  
  // 프로필 드롭다운 메뉴 토글
  const userProfileBtn = document.getElementById('userProfileBtn');
  const profileDropdownMenu = document.getElementById('profileDropdownMenu');
  
  if (userProfileBtn && profileDropdownMenu) {
    userProfileBtn.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      profileDropdownMenu.classList.toggle('hidden');
      
      // Lucide 아이콘 새로고침
      if (typeof lucide !== 'undefined') {
        lucide.createIcons();
      }
    });
    
    // 외부 클릭 시 드롭다운 닫기
    document.addEventListener('click', function(e) {
      if (!userProfileBtn.contains(e.target) && !profileDropdownMenu.contains(e.target)) {
        profileDropdownMenu.classList.add('hidden');
      }
    });
  }
  
  // 메뉴 항목 클릭 시 모바일 메뉴 닫기
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      const targetId = this.getAttribute('href');
      if (targetId === '#') return;
      
      const targetElement = document.querySelector(targetId);
      if (targetElement) {
        e.preventDefault();
        window.scrollTo({
          top: targetElement.offsetTop - 100,
          behavior: 'smooth'
        });
        
        // 모바일 메뉴 닫기
        if (mobileMenu && mobileMenuButton && window.innerWidth < 768) {
          mobileMenu.classList.add('hidden');
          mobileMenuButton.setAttribute('aria-expanded', 'false');
          mobileMenuButton.innerHTML = '<i data-lucide="menu" class="h-6 w-6"></i>';
          lucide.createIcons();
        }
      }
    });
  });
  
  // 페이지 로드 시 로그인 상태 확인
  checkLoginStatus();
  
  console.log('웹사이트가 초기화되었습니다.');
});
  });
</script>
